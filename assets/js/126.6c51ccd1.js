(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{765:function(e,t,r){"use strict";r.r(t);var s=r(48),a=Object(s.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"architecture"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#architecture","aria-hidden":"true"}},[e._v("#")]),e._v(" Architecture")]),e._v(" "),r("p",[e._v("(TBD)")]),e._v(" "),r("h2",{attrs:{id:"entry-point"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#entry-point","aria-hidden":"true"}},[e._v("#")]),e._v(" Entry Point")]),e._v(" "),r("p",[e._v("When GROWI detects"),r("sup",{staticClass:"footnote-ref"},[r("a",{attrs:{href:"#fn1",id:"fnref1"}},[e._v("[1]")])]),e._v(" plug-in packages, it parses "),r("RouterLink",{attrs:{to:"/en/dev/plugin/metadata.html"}},[e._v("metadata")]),e._v(" of each plugins, and then collects and stores methods that serve as the entry point for client-side and server-side.")],1),e._v(" "),r("h3",{attrs:{id:"calling-on-the-client-side"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#calling-on-the-client-side","aria-hidden":"true"}},[e._v("#")]),e._v(" Calling on The Client-side")]),e._v(" "),r("ul",[r("li",[e._v("When the browser initializes the GROWI client, it calls entry point methods of plugins.\n"),r("ul",[r("li",[e._v("At this time, one argument is passed.\n"),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/weseek/growi/blob/6285250108fc14376a498afdd9d9690e826fe25f/packages/app/src/client/services/AppContainer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("AppContainer"),r("OutboundLink")],1),e._v(" instance that comes from "),r("a",{attrs:{href:"https://github.com/jamiebuilds/unstated",target:"_blank",rel:"noopener noreferrer"}},[e._v("unstated"),r("OutboundLink")],1),e._v(" Container.")])])])])])]),e._v(" "),r("h3",{attrs:{id:"calling-on-the-server-side"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#calling-on-the-server-side","aria-hidden":"true"}},[e._v("#")]),e._v(" Calling on The Server-side")]),e._v(" "),r("ul",[r("li",[e._v("When the server starts, it calls entry point methods of plugins.\n"),r("ul",[r("li",[e._v("At this time, two arguments are passed.\n"),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/weseek/growi/blob/6285250108fc14376a498afdd9d9690e826fe25f/packages/app/src/server/crowi/index.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Crowi"),r("OutboundLink")],1),e._v(" instance.")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://expressjs.com/ja/4x/api.html#app",target:"_blank",rel:"noopener noreferrer"}},[e._v("Application"),r("OutboundLink")],1),e._v(" instance that comes from "),r("a",{attrs:{href:"https://expressjs.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Express"),r("OutboundLink")],1),e._v(".")])])])])])]),e._v(" "),r("hr",{staticClass:"footnotes-sep"}),e._v(" "),r("section",{staticClass:"footnotes"},[r("ol",{staticClass:"footnotes-list"},[r("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[r("p",[e._v("The detection timing for the client-side is when the client is built by webpack and for the server-side is when the server starts. "),r("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[e._v("↩︎")])])])])])])},[],!1,null,null,null);t.default=a.exports}}]);